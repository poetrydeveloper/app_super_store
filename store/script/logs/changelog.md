# Changelog

Все заметные изменения в проекте будут документироваться в этом файле.  
Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).

---

## [Unreleased]  
*Последние изменения в разработке.*

### Added  
- Новый функционал экспорта данных поставщиков в формате CSV:
  - Кнопка "Экспорт в CSV" в административном интерфейсе `SupplierAdmin`
  - Поддержка выбора полей для экспорта
- API endpoint для получения списка поставщиков (`/api/suppliers/`):
  - Поля: `id`, `name`, `contact_person`, `phone`
  - Фильтрация по наименованию и контактному лицу

### Changed  
- Оптимизированы запросы к базе данных в `ProductImageAdmin`:
  - Уменьшено количество SQL-запросов при отображении списка изображений
  - Добавлен `select_related` для связи с товарами
- Обновлен интерфейс административной панели:
  - Единый стиль для кнопок действий
  - Улучшена мобильная версия

### Fixed  
- Исправлена ошибка при сохранении `Supplier` с пустым полем `contact_person`
- Исправлено отображение превью изображений в `ProductAdmin` для товаров без главного изображения

---

## [1.1.0] - 2025-08-03  
### Добавлено
- Новое приложение `files` с моделью `ProductImage`:
  - Поля: `product` (ForeignKey), `image` (ImageField), `code` (CharField), `is_main` (BooleanField)
  - Автоматическая генерация кода изображения на основе кода товара
- Административный интерфейс для изображений:
  - **ProductImageAdmin** с отображаемыми полями: `product_link`, `image_preview`, `code`
  - Превью изображений в админке
  - Фильтрация по товарам и категориям
- Интеграция с товарами:
  - Inline-редактирование изображений в `ProductAdmin`
  - Превью главного изображения в списке товаров
  - Счетчик изображений для каждого товара

### Changed  
- Обновлен **ProductAdmin**:
  - Добавлены разделы для работы с изображениями
  - Реализованы превью изображений
  - Добавлена кнопка быстрого добавления изображений
- Добавлен URL для медиафайлов: `^media/(?P<path>.*)$`

---

## [1.0.0] - 2025-08-02  
*Первая стабильная версия проекта.*

### Added  
- Базовые модели Django:  
  - `User`, `Group`, `Permission`, `Session`, `ContentType`, `LogEntry`  
- Кастомные модели:  
  - **Category**: Поля `name`, `slug`, `parent` (ForeignKey)  
  - **Product**: Поля `code`, `name`, `description`, `category` (ForeignKey)  
- Начальная настройка админ-панели для:  
  - `UserAdmin` (поля: `username`, `email`, `first_name`)  
  - `GroupAdmin` (поля: `__str__`)  
- Корневой URL `/admin/`  

### Infrastructure  
- Скрипт для создания "слепков" проекта и анализа изменений  

---

### Правила ведения журнала:  
1. **"Added"** — для новой функциональности.  
2. **"Changed"** — для изменений в существующем коде.  
3. **"Fixed"** — для исправлений багов.  
4. **Дата** в формате `YYYY-MM-DD`.  
5. **Версии** — по схеме `v0.1.0` (SemVer).