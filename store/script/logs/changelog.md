# Changelog

Все заметные изменения в проекте будут документироваться в этом файле.  
Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).

---

## [Unreleased]  
*Последние изменения в разработке.*

### Added  
- Новая модель `ProductUnit` для управления единицами товаров:
  - Поля: `product`, `serial_number`, `status`, `created_at` и др.
  - Автоматическая генерация серийных номеров
  - Методы: `get_purchase_price()`, `safe_mark_as_sold()`
- Административный интерфейс `ProductUnitAdmin`:
  - Отображаемые поля: `serial_number`, `product_link`, `status_badge`
  - Цветная индикация статусов
  - Фильтрация по статусу и товарам
- Валидация статусов через метод `clean()`

### Changed  
- Обновлена структура проекта:
  - Добавлены связи между моделями товаров и единицами
  - Оптимизированы запросы к БД через `select_related`
- Документация:
  - Подробное описание жизненного цикла `ProductUnit` в README

### Fixed  
- Исправлены ошибки валидации при смене статусов
- Устранены проблемы с генерацией серийных номеров

---

## [1.1.0] - 2025-08-03  
### Добавлено
- Новое приложение `files` с моделью `ProductImage`:
  - Поля: `product` (ForeignKey), `image` (ImageField), `code` (CharField), `is_main` (BooleanField)
  - Автоматическая генерация кода изображения на основе кода товара
- Административный интерфейс для изображений:
  - **ProductImageAdmin** с отображаемыми полями: `product_link`, `image_preview`, `code`
  - Превью изображений в админке
  - Фильтрация по товарам и категориям

### Changed  
- Обновлен **ProductAdmin**:
  - Добавлены разделы для работы с изображениями
  - Реализованы превью изображений
  - Добавлена кнопка быстрого добавления изображений

---

## [1.0.0] - 2025-08-02  
*Первая стабильная версия проекта.*

### Added  
- Базовые модели Django:  
  - `User`, `Group`, `Permission`, `Session`, `ContentType`, `LogEntry`  
- Кастомные модели:  
  - **Category**: Поля `name`, `slug`, `parent` (ForeignKey)  
  - **Product**: Поля `code`, `name`, `description`, `category` (ForeignKey)  

### Infrastructure  
- Скрипт для создания "слепков" проекта и анализа изменений  

---

### Правила ведения журнала:  
1. **"Added"** — для новой функциональности.  
2. **"Changed"** — для изменений в существующем коде.  
3. **"Fixed"** — для исправлений багов.  
4. **Дата** в формате `YYYY-MM-DD`.  
5. **Версии** — по схеме `v0.1.0` (SemVer).